{"ast":null,"code":"var _jsxFileName = \"/Users/luked/Documents/slnsw/dxlab-art-index/components/WebsiteApp/WebsiteApp.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport App from '../App';\nimport Header from '../Header';\nimport Footer from '../Footer';\nimport Progress from '../Progress/Progress';\nimport { initGA } from '../../lib/analytics'; // logPageView\n\nconst HEADER_MENU_ITEMS = [{\n  name: 'Home',\n  url: '/'\n}, {\n  name: 'About',\n  url: '/about'\n}, {\n  name: 'Experiments',\n  url: '/experiments'\n}, {\n  name: 'Blog',\n  url: '/blog'\n}, {\n  name: 'Grants',\n  url: '/grants'\n}, {\n  name: 'Code',\n  url: '/code'\n}, {\n  name: __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, __jsx(\"span\", {\n    className: \"primary-menu__divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, \"/\"), ' ', __jsx(\"span\", {\n    className: \"slnsw-icon-ZoomOL2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })),\n  url: '/search',\n  ariaLabel: 'search'\n}];\nconst SCROLLTOP_THRESHOLD = 100;\n\nclass WebsiteApp extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleOnScroll\", event => {\n      if (event && event.srcElement && event.srcElement.scrollingElement) {\n        const {\n          scrollTop\n        } = event.srcElement.scrollingElement;\n        this.setState({\n          isHeaderBackgroundActive: scrollTop > SCROLLTOP_THRESHOLD\n        });\n      }\n    });\n\n    this.state = {\n      isHeaderBackgroundActive: false\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('scroll', this.handleOnScroll);\n\n    if (!window.GA_INITIALIZED) {\n      initGA();\n      window.GA_INITIALIZED = true;\n    } // logPageView();\n\n  } // componentDidUpdate() {\n  //   // console.log('componentDidUpdate', this.props.isLoading);\n  //\n  //   Router.onRouteChangeStart = () => {\n  //     console.log('isLoading');\n  //     this.setState({\n  //       isLoading: true,\n  //     });\n  //   };\n  // }\n\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.handleOnScroll);\n  }\n\n  render() {\n    const {\n      title,\n      metaDescription,\n      metaImageUrl,\n      metaImageWidth,\n      metaImageHeight,\n      pathname,\n      isLoading,\n      children\n    } = this.props;\n    return __jsx(App // pathname={pathname}\n    // isLoading={isLoading}\n    , {\n      title: title,\n      metaDescription: metaDescription,\n      metaImageUrl: metaImageUrl,\n      metaImageWidth: metaImageWidth,\n      metaImageHeight: metaImageHeight // headerMenuItems={HEADER_MENU_ITEMS}\n      ,\n      className: \"website-app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 7\n      }\n    }, __jsx(Header, {\n      pathname: pathname,\n      menuItems: HEADER_MENU_ITEMS,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      className: ['header-bg', this.state.isHeaderBackgroundActive ? 'is-active' : ''].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }\n    }), __jsx(Progress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      className: `app__loading-screen ${isLoading ? 'app__loading-screen--is-active' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"loader-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"loader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"ball\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    })))), __jsx(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, !isLoading && children), __jsx(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\n_defineProperty(WebsiteApp, \"propTypes\", {\n  title: PropTypes.string,\n  metaDescription: PropTypes.string,\n  metaImageUrl: PropTypes.string,\n  metaImageWidth: PropTypes.number,\n  metaImageHeight: PropTypes.number,\n  pathname: PropTypes.string,\n  isLoading: PropTypes.bool,\n  children: PropTypes.node\n});\n\n_defineProperty(WebsiteApp, \"defaultProps\", {\n  headerMenuItems: []\n});\n\nexport default WebsiteApp;","map":{"version":3,"sources":["/Users/luked/Documents/slnsw/dxlab-art-index/components/WebsiteApp/WebsiteApp.tsx"],"names":["Component","PropTypes","App","Header","Footer","Progress","initGA","HEADER_MENU_ITEMS","name","url","ariaLabel","SCROLLTOP_THRESHOLD","WebsiteApp","constructor","props","event","srcElement","scrollingElement","scrollTop","setState","isHeaderBackgroundActive","state","componentDidMount","document","addEventListener","handleOnScroll","window","GA_INITIALIZED","componentWillUnmount","removeEventListener","render","title","metaDescription","metaImageUrl","metaImageWidth","metaImageHeight","pathname","isLoading","children","join","string","number","bool","node","headerMenuItems"],"mappings":"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","sourcesContent":["import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport App from '../App';\nimport Header from '../Header';\nimport Footer from '../Footer';\nimport Progress from '../Progress/Progress';\n\nimport { initGA } from '../../lib/analytics'; // logPageView\n\ntype Props = {\n  title?: string;\n  metaDescription?: string;\n  metaImageUrl?: string;\n  metaImageWidth?: number;\n  metaImageHeight?: number;\n  pathname?: string;\n  isLoading?: boolean;\n  children?: React.ReactNode;\n};\n\ntype State = {\n  isHeaderBackgroundActive: boolean;\n};\n\ndeclare global {\n  interface Window {\n    GA_INITIALIZED: boolean;\n  }\n}\n\nconst HEADER_MENU_ITEMS = [\n  { name: 'Home', url: '/' },\n  { name: 'About', url: '/about' },\n  { name: 'Experiments', url: '/experiments' },\n  { name: 'Blog', url: '/blog' },\n  { name: 'Grants', url: '/grants' },\n  { name: 'Code', url: '/code' },\n  {\n    name: (\n      <span>\n        <span className=\"primary-menu__divider\">/</span>{' '}\n        <span className=\"slnsw-icon-ZoomOL2\" />\n      </span>\n    ),\n    url: '/search',\n    ariaLabel: 'search',\n  },\n];\n\nconst SCROLLTOP_THRESHOLD = 100;\n\nclass WebsiteApp extends Component<Props, State> {\n  static propTypes = {\n    title: PropTypes.string,\n    metaDescription: PropTypes.string,\n    metaImageUrl: PropTypes.string,\n    metaImageWidth: PropTypes.number,\n    metaImageHeight: PropTypes.number,\n    pathname: PropTypes.string,\n    isLoading: PropTypes.bool,\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    headerMenuItems: [],\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isHeaderBackgroundActive: false,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('scroll', this.handleOnScroll);\n\n    if (!window.GA_INITIALIZED) {\n      initGA();\n      window.GA_INITIALIZED = true;\n    }\n\n    // logPageView();\n  }\n\n  // componentDidUpdate() {\n  //   // console.log('componentDidUpdate', this.props.isLoading);\n  //\n  //   Router.onRouteChangeStart = () => {\n  //     console.log('isLoading');\n  //     this.setState({\n  //       isLoading: true,\n  //     });\n  //   };\n  // }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.handleOnScroll);\n  }\n\n  handleOnScroll = (event) => {\n    if (event && event.srcElement && event.srcElement.scrollingElement) {\n      const { scrollTop } = event.srcElement.scrollingElement;\n\n      this.setState({\n        isHeaderBackgroundActive: scrollTop > SCROLLTOP_THRESHOLD,\n      });\n    }\n  };\n\n  render() {\n    const {\n      title,\n      metaDescription,\n      metaImageUrl,\n      metaImageWidth,\n      metaImageHeight,\n      pathname,\n      isLoading,\n      children,\n    } = this.props;\n\n    return (\n      <App\n        // pathname={pathname}\n        // isLoading={isLoading}\n        title={title}\n        metaDescription={metaDescription}\n        metaImageUrl={metaImageUrl}\n        metaImageWidth={metaImageWidth}\n        metaImageHeight={metaImageHeight}\n        // headerMenuItems={HEADER_MENU_ITEMS}\n        className=\"website-app\"\n      >\n        <Header pathname={pathname} menuItems={HEADER_MENU_ITEMS} />\n        {/*\n          .header-bg is needed for tricky position: sticky css\n          Includes line decoration for .primary-menu\n        */}\n        <div\n          className={[\n            'header-bg',\n            this.state.isHeaderBackgroundActive ? 'is-active' : '',\n          ].join(' ')}\n        />\n\n        <Progress />\n\n        <div\n          className={`app__loading-screen ${\n            isLoading ? 'app__loading-screen--is-active' : ''\n          }`}\n        >\n          <div className=\"loader-wrapper\">\n            <div className=\"loader\">\n              <div className=\"ball\" />\n            </div>\n          </div>\n        </div>\n\n        <main>{!isLoading && children}</main>\n\n        <Footer />\n      </App>\n    );\n  }\n}\n\nexport default WebsiteApp;\n"]},"metadata":{},"sourceType":"module"}