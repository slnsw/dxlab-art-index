{"ast":null,"code":"export var buildHeadTitle = function buildHeadTitle(title) {\n  return \"\".concat(title ? \"\".concat(title, \" | \") : '', \"DX Lab - State Library of NSW\");\n};\nexport var formatDate = function formatDate(date) {\n  var d = new Date(date);\n  return \"\".concat(d.getDate(), \".\").concat(d.getMonth() + 1, \".\").concat(d.getFullYear());\n}; // TODO: Use on homepage\n\nexport var mapPostToTile = function mapPostToTile(post) {\n  var _post$featuredMedia, _post$featuredMedia$s, _post$featuredMedia$s2, _post$featuredMedia2, _post$featuredMedia2$, _post$featuredMedia2$2;\n\n  return {\n    title: post.title,\n    date: formatDate(post.date),\n    content: post.excerpt,\n    slug: post.slug,\n    tallImageUrl: post.featuredMedia && post.featuredMedia.sizes.tallTile && post.featuredMedia.sizes.tallTile.sourceUrl || null,\n    mediumImageUrl: post.featuredMedia && post.featuredMedia.sizes.mediumTile && post.featuredMedia.sizes.mediumTile.sourceUrl || null,\n    smallImageUrl: post.featuredMedia && post.featuredMedia.sizes.smallTile && post.featuredMedia.sizes.smallTile.sourceUrl || null,\n    smallImageWidth: ((_post$featuredMedia = post.featuredMedia) === null || _post$featuredMedia === void 0 ? void 0 : (_post$featuredMedia$s = _post$featuredMedia.sizes) === null || _post$featuredMedia$s === void 0 ? void 0 : (_post$featuredMedia$s2 = _post$featuredMedia$s.smallTile) === null || _post$featuredMedia$s2 === void 0 ? void 0 : _post$featuredMedia$s2.width) || null,\n    smallImageHeight: ((_post$featuredMedia2 = post.featuredMedia) === null || _post$featuredMedia2 === void 0 ? void 0 : (_post$featuredMedia2$ = _post$featuredMedia2.sizes) === null || _post$featuredMedia2$ === void 0 ? void 0 : (_post$featuredMedia2$2 = _post$featuredMedia2$.smallTile) === null || _post$featuredMedia2$2 === void 0 ? void 0 : _post$featuredMedia2$2.height) || null,\n    imageAltText: post.featuredMedia && post.featuredMedia.altText\n  };\n};\nexport function debounce(callback, wait) {\n  var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n  var timeout = null;\n  var callbackArgs = null;\n\n  var later = function later() {\n    return callback.apply(context, callbackArgs);\n  };\n\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callbackArgs = args;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\nexport function throttle(callback, wait) {\n  var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n  console.log('throttle');\n  var timeout = null;\n  var callbackArgs = null;\n\n  var later = function later() {\n    console.log('later');\n    callback.apply(context, callbackArgs);\n    timeout = null;\n  };\n\n  return function () {\n    console.log('return');\n\n    if (!timeout) {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      callbackArgs = args;\n      timeout = setTimeout(later, wait);\n    }\n  };\n}\nexport function swapArrayElements(a, x, y) {\n  if (a.length === 1) return a;\n  a.splice(y, 1, a.splice(x, 1, a[y])[0]);\n  return a;\n}","map":{"version":3,"sources":["/Users/luked/Documents/slnsw/dxlab-art-index/lib/index.ts"],"names":["buildHeadTitle","title","formatDate","date","d","Date","getDate","getMonth","getFullYear","mapPostToTile","post","content","excerpt","slug","tallImageUrl","featuredMedia","sizes","tallTile","sourceUrl","mediumImageUrl","mediumTile","smallImageUrl","smallTile","smallImageWidth","width","smallImageHeight","height","imageAltText","altText","debounce","callback","wait","context","timeout","callbackArgs","later","apply","args","clearTimeout","setTimeout","throttle","console","log","swapArrayElements","a","x","y","length","splice"],"mappings":"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","sourcesContent":["export const buildHeadTitle = (title) => {\n  return `${title ? `${title} | ` : ''}DX Lab - State Library of NSW`;\n};\n\nexport const formatDate = (date) => {\n  const d = new Date(date);\n  return `${d.getDate()}.${d.getMonth() + 1}.${d.getFullYear()}`;\n};\n\n// TODO: Use on homepage\nexport const mapPostToTile = (post) => {\n  return {\n    title: post.title,\n    date: formatDate(post.date),\n    content: post.excerpt,\n    slug: post.slug,\n    tallImageUrl:\n      (post.featuredMedia &&\n        post.featuredMedia.sizes.tallTile &&\n        post.featuredMedia.sizes.tallTile.sourceUrl) ||\n      null,\n    mediumImageUrl:\n      (post.featuredMedia &&\n        post.featuredMedia.sizes.mediumTile &&\n        post.featuredMedia.sizes.mediumTile.sourceUrl) ||\n      null,\n    smallImageUrl:\n      (post.featuredMedia &&\n        post.featuredMedia.sizes.smallTile &&\n        post.featuredMedia.sizes.smallTile.sourceUrl) ||\n      null,\n    smallImageWidth: post.featuredMedia?.sizes?.smallTile?.width || null,\n    smallImageHeight: post.featuredMedia?.sizes?.smallTile?.height || null,\n    imageAltText: post.featuredMedia && post.featuredMedia.altText,\n  };\n};\n\nexport function debounce(callback, wait, context = this) {\n  let timeout = null;\n  let callbackArgs = null;\n\n  const later = () => callback.apply(context, callbackArgs);\n\n  return (...args) => {\n    callbackArgs = args;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\nexport function throttle(callback, wait, context = this) {\n  console.log('throttle');\n\n  let timeout = null;\n  let callbackArgs = null;\n\n  const later = () => {\n    console.log('later');\n    callback.apply(context, callbackArgs);\n    timeout = null;\n  };\n\n  return (...args) => {\n    console.log('return');\n    if (!timeout) {\n      callbackArgs = args;\n      timeout = setTimeout(later, wait);\n    }\n  };\n}\n\nexport function swapArrayElements(a, x, y) {\n  if (a.length === 1) return a;\n  a.splice(y, 1, a.splice(x, 1, a[y])[0]);\n  return a;\n}\n"]},"metadata":{},"sourceType":"module"}