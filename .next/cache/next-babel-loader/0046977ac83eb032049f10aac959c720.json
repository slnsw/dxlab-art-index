{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback, useEffect } from 'react'; // import { DimensionObject, UseDimensionsArgs, UseDimensionsHook } from \"./types\";\n// https://github.com/Swizec/useDimensions/blob/master/src/index.ts\n\nfunction getDimensionObject(node) {\n  var rect = node.getBoundingClientRect();\n  var scrollWidth = node.scrollWidth,\n      scrollLeft = node.scrollLeft;\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: 'x' in rect ? rect.x : rect.top,\n    left: 'y' in rect ? rect.y : rect.left,\n    x: 'x' in rect ? rect.x : rect.left,\n    y: 'y' in rect ? rect.y : rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    scrollWidth: scrollWidth,\n    scrollLeft: scrollLeft\n  };\n}\n\nfunction useDimensions() {\n  _s();\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$liveMeasure = _ref.liveMeasure,\n      liveMeasure = _ref$liveMeasure === void 0 ? true : _ref$liveMeasure;\n\n  var _useState = useState({}),\n      dimensions = _useState[0],\n      setDimensions = _useState[1];\n\n  var _useState2 = useState(null),\n      node = _useState2[0],\n      setNode = _useState2[1];\n\n  var ref = useCallback(function (refNode) {\n    setNode(refNode);\n  }, []); // Was previously useLayoutEffect, but this was causing SSR issues.\n\n  /* eslint-disable consistent-return */\n\n  useEffect(function () {\n    if (node) {\n      var measure = function measure() {\n        return window.requestAnimationFrame(function () {\n          return setDimensions(getDimensionObject(node));\n        });\n      };\n\n      measure();\n\n      if (liveMeasure) {\n        window.addEventListener('resize', measure);\n        window.addEventListener('scroll', measure);\n        return function () {\n          window.removeEventListener('resize', measure);\n          window.removeEventListener('scroll', measure);\n        };\n      }\n    }\n  }, [liveMeasure, node]);\n  /* eslint-enable consistent-return */\n\n  return [ref, dimensions, node];\n}\n\n_s(useDimensions, \"/qFOYxyLQmRaIDoMPukNPSUh1go=\");\n\nexport default useDimensions;","map":{"version":3,"sources":["/Users/luked/Documents/slnsw/dxlab-art-index/lib/hooks/use-dimensions.js"],"names":["useState","useCallback","useEffect","getDimensionObject","node","rect","getBoundingClientRect","scrollWidth","scrollLeft","width","height","top","x","left","y","right","bottom","useDimensions","liveMeasure","dimensions","setDimensions","setNode","ref","refNode","measure","window","requestAnimationFrame","addEventListener","removeEventListener"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,QAAiD,OAAjD,C,CACA;AAEA;;AAEA,SAASC,kBAAT,CAA4BC,IAA5B,EAAkC;AAChC,MAAMC,IAAI,GAAGD,IAAI,CAACE,qBAAL,EAAb;AADgC,MAExBC,WAFwB,GAEIH,IAFJ,CAExBG,WAFwB;AAAA,MAEXC,UAFW,GAEIJ,IAFJ,CAEXI,UAFW;AAIhC,SAAO;AACLC,IAAAA,KAAK,EAAEJ,IAAI,CAACI,KADP;AAELC,IAAAA,MAAM,EAAEL,IAAI,CAACK,MAFR;AAGLC,IAAAA,GAAG,EAAE,OAAON,IAAP,GAAcA,IAAI,CAACO,CAAnB,GAAuBP,IAAI,CAACM,GAH5B;AAILE,IAAAA,IAAI,EAAE,OAAOR,IAAP,GAAcA,IAAI,CAACS,CAAnB,GAAuBT,IAAI,CAACQ,IAJ7B;AAKLD,IAAAA,CAAC,EAAE,OAAOP,IAAP,GAAcA,IAAI,CAACO,CAAnB,GAAuBP,IAAI,CAACQ,IAL1B;AAMLC,IAAAA,CAAC,EAAE,OAAOT,IAAP,GAAcA,IAAI,CAACS,CAAnB,GAAuBT,IAAI,CAACM,GAN1B;AAOLI,IAAAA,KAAK,EAAEV,IAAI,CAACU,KAPP;AAQLC,IAAAA,MAAM,EAAEX,IAAI,CAACW,MARR;AASLT,IAAAA,WAAW,EAAXA,WATK;AAULC,IAAAA,UAAU,EAAVA;AAVK,GAAP;AAYD;;AAED,SAASS,aAAT,GAAoD;AAAA;;AAAA,iFAAJ,EAAI;AAAA,8BAA3BC,WAA2B;AAAA,MAA3BA,WAA2B,iCAAb,IAAa;;AAAA,kBACdlB,QAAQ,CAAC,EAAD,CADM;AAAA,MAC3CmB,UAD2C;AAAA,MAC/BC,aAD+B;;AAAA,mBAE1BpB,QAAQ,CAAC,IAAD,CAFkB;AAAA,MAE3CI,IAF2C;AAAA,MAErCiB,OAFqC;;AAIlD,MAAMC,GAAG,GAAGrB,WAAW,CAAC,UAACsB,OAAD,EAAa;AACnCF,IAAAA,OAAO,CAACE,OAAD,CAAP;AACD,GAFsB,EAEpB,EAFoB,CAAvB,CAJkD,CAQlD;;AACA;;AACArB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIE,IAAJ,EAAU;AACR,UAAMoB,OAAO,GAAG,SAAVA,OAAU;AAAA,eACdC,MAAM,CAACC,qBAAP,CAA6B;AAAA,iBAC3BN,aAAa,CAACjB,kBAAkB,CAACC,IAAD,CAAnB,CADc;AAAA,SAA7B,CADc;AAAA,OAAhB;;AAIAoB,MAAAA,OAAO;;AAEP,UAAIN,WAAJ,EAAiB;AACfO,QAAAA,MAAM,CAACE,gBAAP,CAAwB,QAAxB,EAAkCH,OAAlC;AACAC,QAAAA,MAAM,CAACE,gBAAP,CAAwB,QAAxB,EAAkCH,OAAlC;AAEA,eAAO,YAAM;AACXC,UAAAA,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCJ,OAArC;AACAC,UAAAA,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCJ,OAArC;AACD,SAHD;AAID;AACF;AACF,GAlBQ,EAkBN,CAACN,WAAD,EAAcd,IAAd,CAlBM,CAAT;AAmBA;;AAEA,SAAO,CAACkB,GAAD,EAAMH,UAAN,EAAkBf,IAAlB,CAAP;AACD;;GAhCQa,a;;AAkCT,eAAeA,aAAf","sourcesContent":["import { useState, useCallback, useEffect } from 'react';\n// import { DimensionObject, UseDimensionsArgs, UseDimensionsHook } from \"./types\";\n\n// https://github.com/Swizec/useDimensions/blob/master/src/index.ts\n\nfunction getDimensionObject(node) {\n  const rect = node.getBoundingClientRect();\n  const { scrollWidth, scrollLeft } = node;\n\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: 'x' in rect ? rect.x : rect.top,\n    left: 'y' in rect ? rect.y : rect.left,\n    x: 'x' in rect ? rect.x : rect.left,\n    y: 'y' in rect ? rect.y : rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    scrollWidth,\n    scrollLeft,\n  };\n}\n\nfunction useDimensions({ liveMeasure = true } = {}) {\n  const [dimensions, setDimensions] = useState({});\n  const [node, setNode] = useState(null);\n\n  const ref = useCallback((refNode) => {\n    setNode(refNode);\n  }, []);\n\n  // Was previously useLayoutEffect, but this was causing SSR issues.\n  /* eslint-disable consistent-return */\n  useEffect(() => {\n    if (node) {\n      const measure = () =>\n        window.requestAnimationFrame(() =>\n          setDimensions(getDimensionObject(node)),\n        );\n      measure();\n\n      if (liveMeasure) {\n        window.addEventListener('resize', measure);\n        window.addEventListener('scroll', measure);\n\n        return () => {\n          window.removeEventListener('resize', measure);\n          window.removeEventListener('scroll', measure);\n        };\n      }\n    }\n  }, [liveMeasure, node]);\n  /* eslint-enable consistent-return */\n\n  return [ref, dimensions, node];\n}\n\nexport default useDimensions;\n"]},"metadata":{},"sourceType":"module"}