{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/luked/Documents/slnsw/dxlab-art-index/components/ArtIndexGenderArtistCharts/ArtIndexGenderArtistCharts.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport scrollama from 'scrollama';\nimport ArtIndexGenderDonutChart from '../ArtIndexGenderDonutChart';\nimport BarChart from '../BarChart';\nimport Link from '../Link';\nimport { getGenderColour } from '../../lib/art-index-utils';\nimport { useArtIndex } from '../../lib/contexts/art-index-context';\nimport css from './ArtIndexGenderArtistCharts.module.scss';\n\nvar ArtIndexGenderArtistCharts = function ArtIndexGenderArtistCharts(_ref) {\n  _s();\n\n  var className = _ref.className;\n\n  var _useArtIndex = useArtIndex(),\n      state = _useArtIndex.state;\n\n  var artistsGenderData = state.artistsGenderData;\n\n  var _React$useState = React.useState(10),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      topArtistsTotal = _React$useState2[0],\n      setTopArtistsTotal = _React$useState2[1];\n\n  var slicedArtistsData = artistsGenderData.slice(0, topArtistsTotal);\n  var malesTotal = slicedArtistsData.filter(function (d) {\n    return d.gender === 'male';\n  }).length;\n  var femalesTotal = slicedArtistsData.filter(function (d) {\n    return d.gender === 'female';\n  }).length;\n  React.useEffect(function () {\n    var scroller = scrollama();\n    scroller.setup({\n      step: '.step',\n      offset: 0.9\n    }).onStepEnter(handleStepEnter);\n  }, []);\n\n  var handleStepEnter = function handleStepEnter(response) {\n    var totals = [10, 50];\n    setTopArtistsTotal(totals[response.index]);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: css.genderCharts,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, __jsx(\"h2\", {\n    className: css.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Top \", topArtistsTotal, \" artists by gender\"), __jsx(ArtIndexGenderDonutChart, {\n    malesTotal: malesTotal,\n    femalesTotal: femalesTotal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), __jsx(BarChart, {\n    data: slicedArtistsData,\n    height: 250,\n    rotateXAxis: true,\n    renderBar: function renderBar(d) {\n      return {\n        fill: getGenderColour(d.gender)\n      };\n    },\n    margin: {\n      bottom: 100\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"step\",\n    style: {\n      height: 400\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    className: css.paragraph,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"The artists above are ranked by how many artworks they exhibited, with\", ' ', __jsx(Link, {\n    as: \"/art-index/artists/2734/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Marian Ellis Rowan\")), \", a well-known Australian artist and botanical illustrator listed as the only woman in the \", __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }, \"top 10\"), \".\")), __jsx(\"div\", {\n    className: \"step\",\n    style: {\n      marginBottom: '10rem'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    className: css.paragraph,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"Broadening the list to the \", __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 38\n    }\n  }, \"top 50\"), \" sees the percentage of women increase slightly. The majority of these artists are still male (37 out of 50).\")));\n};\n\n_s(ArtIndexGenderArtistCharts, \"tRgZ2XHSl/tgbYjmnlMY2BPj0OI=\", false, function () {\n  return [useArtIndex];\n});\n\n_c = ArtIndexGenderArtistCharts;\nexport default ArtIndexGenderArtistCharts;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArtIndexGenderArtistCharts\");","map":{"version":3,"sources":["/Users/luked/Documents/slnsw/dxlab-art-index/components/ArtIndexGenderArtistCharts/ArtIndexGenderArtistCharts.tsx"],"names":["React","scrollama","ArtIndexGenderDonutChart","BarChart","Link","getGenderColour","useArtIndex","css","ArtIndexGenderArtistCharts","className","state","artistsGenderData","useState","topArtistsTotal","setTopArtistsTotal","slicedArtistsData","slice","malesTotal","filter","d","gender","length","femalesTotal","useEffect","scroller","setup","step","offset","onStepEnter","handleStepEnter","response","totals","index","genderCharts","title","fill","bottom","height","paragraph","marginBottom"],"mappings":"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","sourcesContent":["import React from 'react';\nimport scrollama from 'scrollama';\n\nimport ArtIndexGenderDonutChart from '../ArtIndexGenderDonutChart';\nimport BarChart from '../BarChart';\nimport Link from '../Link';\n\nimport { getGenderColour } from '../../lib/art-index-utils';\nimport { useArtIndex } from '../../lib/contexts/art-index-context';\n\nimport css from './ArtIndexGenderArtistCharts.module.scss';\n\ntype Props = {\n  className?: string;\n};\n\nconst ArtIndexGenderArtistCharts: React.FC<Props> = ({ className }) => {\n  const { state } = useArtIndex();\n  const { artistsGenderData } = state;\n\n  const [topArtistsTotal, setTopArtistsTotal] = React.useState(10);\n  const slicedArtistsData = artistsGenderData.slice(0, topArtistsTotal);\n  const malesTotal = slicedArtistsData.filter((d) => d.gender === 'male')\n    .length;\n  const femalesTotal = slicedArtistsData.filter((d) => d.gender === 'female')\n    .length;\n\n  React.useEffect(() => {\n    const scroller = scrollama();\n\n    scroller\n      .setup({\n        step: '.step',\n        offset: 0.9,\n      })\n      .onStepEnter(handleStepEnter);\n  }, []);\n\n  const handleStepEnter = (response) => {\n    const totals = [10, 50];\n\n    setTopArtistsTotal(totals[response.index]);\n  };\n\n  return (\n    <>\n      <div className={css.genderCharts}>\n        <h2 className={css.title}>Top {topArtistsTotal} artists by gender</h2>\n\n        <ArtIndexGenderDonutChart\n          malesTotal={malesTotal}\n          femalesTotal={femalesTotal}\n        />\n\n        <BarChart\n          data={slicedArtistsData}\n          height={250}\n          rotateXAxis={true}\n          renderBar={(d) => {\n            return {\n              fill: getGenderColour(d.gender),\n            };\n          }}\n          margin={{\n            bottom: 100,\n          }}\n        />\n      </div>\n\n      <div\n        className=\"step\"\n        style={{\n          height: 400,\n        }}\n      >\n        <p className={css.paragraph}>\n          The artists above are ranked by how many artworks they exhibited, with{' '}\n          <Link as=\"/art-index/artists/2734/\">\n            <a>Marian Ellis Rowan</a>\n          </Link>\n          , a well-known Australian artist and botanical illustrator listed as\n          the only woman in the <strong>top 10</strong>.\n        </p>\n      </div>\n\n      <div\n        className=\"step\"\n        style={{\n          marginBottom: '10rem',\n        }}\n      >\n        <p className={css.paragraph}>\n          Broadening the list to the <strong>top 50</strong> sees the percentage\n          of women increase slightly. The majority of these artists are still\n          male (37 out of 50).\n        </p>\n      </div>\n    </>\n  );\n};\n\nexport default ArtIndexGenderArtistCharts;\n"]},"metadata":{},"sourceType":"module"}